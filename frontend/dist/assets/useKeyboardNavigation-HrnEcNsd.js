import{r as s}from"./index-Bdj1OuIn.js";const T=(A={})=>{const{onEscape:f,onEnter:d,onSpace:b,onArrowUp:m,onArrowDown:p,onArrowLeft:k,onArrowRight:E,onTab:w,trapFocus:h=!1,autoFocus:g=!1,disabled:D=!1}=A,l=s.useRef(null),a=s.useRef([]),x=s.useCallback(()=>{if(!l.current)return[];const e=["button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])","a[href]:not([disabled])",'[tabindex]:not([tabindex="-1"]):not([disabled])',"summary:not([disabled])"];return Array.from(l.current.querySelectorAll(e.join(","))).filter(t=>{const r=window.getComputedStyle(t);return r.display!=="none"&&r.visibility!=="hidden"})},[]),n=s.useCallback(()=>{a.current=x()},[x]),u=s.useCallback(e=>{if(D)return;const{key:t,shiftKey:r,ctrlKey:c,altKey:o,metaKey:i}=e;if(!((c||o||i)&&t!=="Tab"))switch(t){case"Escape":f&&(e.preventDefault(),f(e));break;case"Enter":d&&(e.preventDefault(),d(e));break;case" ":b&&(e.preventDefault(),b(e));break;case"ArrowUp":m&&(e.preventDefault(),m(e));break;case"ArrowDown":p&&(e.preventDefault(),p(e));break;case"ArrowLeft":k&&(e.preventDefault(),k(e));break;case"ArrowRight":E&&(e.preventDefault(),E(e));break;case"Tab":h&&a.current.length>0&&(e.preventDefault(),C(r)),w&&w(e);break}},[D,f,d,b,m,p,k,E,w,h]),C=s.useCallback(e=>{var i;n();const t=a.current;if(t.length===0)return;const r=document.activeElement,c=t.indexOf(r);let o;e?o=c<=0?t.length-1:c-1:o=c>=t.length-1?0:c+1,(i=t[o])==null||i.focus()},[n]),y=s.useCallback(()=>{var t;n(),(t=a.current[0])==null||t.focus()},[n]),v=s.useCallback(()=>{var t;n();const e=a.current;(t=e[e.length-1])==null||t.focus()},[n]),I=s.useCallback(()=>{var o;n();const e=a.current,t=document.activeElement,r=e.indexOf(t),c=r>=e.length-1?0:r+1;(o=e[c])==null||o.focus()},[n]),K=s.useCallback(()=>{var o;n();const e=a.current,t=document.activeElement,r=e.indexOf(t),c=r<=0?e.length-1:r-1;(o=e[c])==null||o.focus()},[n]);return s.useEffect(()=>{const e=l.current;if(e){if(e.addEventListener("keydown",u),g){const t=setTimeout(()=>{y()},100);return()=>{clearTimeout(t),e.removeEventListener("keydown",u)}}return()=>{e.removeEventListener("keydown",u)}}},[u,g,y]),s.useEffect(()=>{n()},[n]),{containerRef:l,focusFirst:y,focusLast:v,focusNext:I,focusPrevious:K,updateFocusableElements:n,getFocusableElements:x}};export{T as u};
